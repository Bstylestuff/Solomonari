[gd_scene load_steps=11 format=2]

[ext_resource path="res://Screens/MainGame/World.gd" type="Script" id=2]
[ext_resource path="res://Mountain/Mountain.tscn" type="PackedScene" id=3]
[ext_resource path="res://Screens/MainGame/Map/Map.tscn" type="PackedScene" id=4]
[ext_resource path="res://Enemies/enemy_spawner.tscn" type="PackedScene" id=5]
[ext_resource path="res://Town/Town.tscn" type="PackedScene" id=6]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 90, -3, 307, 0, 255, 46, 83, 27, 192, 226, -208, 217, -203, 89, -160, 82, 195, 168, 204, 113, -131, 73, -123, 73, 257, 61, 253, 81, 236, 92, 226, 90, 219, 95, 213, 98, 62, 44, -143, 60, -136, 62, -136, 69, -111, 66, -93, 63, -86, 60, -77, 59, -46, 60, -31, 55, 11, 54, 17, 55, 47, 52, -17, 44, -1, 45 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 6, 7, 8 ), PoolIntArray( 9, 8, 7, 10, 11 ), PoolIntArray( 3, 2, 12, 13, 14, 15 ), PoolIntArray( 3, 15, 16, 17 ), PoolIntArray( 3, 17, 9, 18 ), PoolIntArray( 19, 20, 21, 7 ), PoolIntArray( 7, 21, 10 ), PoolIntArray( 9, 11, 22, 23 ), PoolIntArray( 9, 23, 24, 25, 26 ), PoolIntArray( 9, 26, 27, 28, 29 ), PoolIntArray( 30, 18, 9 ), PoolIntArray( 27, 31, 32, 28 ), PoolIntArray( 30, 9, 29 ) ]
outlines = [ PoolVector2Array( 90, -3, 307, 0, 255, 46, 257, 61, 253, 81, 236, 92, 226, 90, 219, 95, 213, 98, 204, 113, 195, 168, 192, 226, -208, 217, -203, 89, -160, 82, -143, 60, -136, 62, -136, 69, -131, 73, -123, 73, -111, 66, -93, 63, -86, 60, -77, 59, -46, 60, -31, 55, -17, 44, -1, 45, 11, 54, 17, 55, 47, 52, 62, 44, 83, 27 ) ]

[sub_resource type="NavigationPolygon" id=2]
vertices = PoolVector2Array( 37, -123, 36, -129, 43, -124, 80, -8, 78, -6, 65, -22, 69, -27, 38, -141, 33, -179, 318, -184, 307, 0, 49, -132, 33, -141, 49, -127, 90, -3, 73, -51, 39, -110, 33, -118, 44, -108, 67, -41, 73, -44, 86, -8, 59, -89, 44, -100, 58, -78 )
polygons = [ PoolIntArray( 0, 1, 2 ), PoolIntArray( 3, 4, 5, 6 ), PoolIntArray( 7, 8, 9, 10, 11 ), PoolIntArray( 7, 12, 8 ), PoolIntArray( 13, 11, 10, 14, 15 ), PoolIntArray( 16, 17, 0, 2, 18 ), PoolIntArray( 6, 19, 20, 21, 3 ), PoolIntArray( 18, 2, 13, 22 ), PoolIntArray( 22, 23, 18 ), PoolIntArray( 15, 24, 22 ), PoolIntArray( 21, 20, 15, 14 ), PoolIntArray( 13, 15, 22 ) ]
outlines = [ PoolVector2Array( 90, -3, 307, 0, 318, -184, 33, -179, 33, -141, 38, -141, 49, -132, 49, -127, 43, -124, 36, -129, 37, -123, 33, -118, 39, -110, 44, -108, 44, -100, 59, -89, 58, -78, 73, -51, 73, -44, 67, -41, 69, -27, 65, -22, 78, -6, 80, -8, 86, -8 ) ]

[sub_resource type="NavigationPolygon" id=3]
vertices = PoolVector2Array( -28, -115, -91, -59, -105, -49, -108, -63, -25, -123, -145, 25, -138, 28, -150, 50, -203, 89, -208, 217, -288, 208, -287, -170, 33, -179, 33, -142, 25, -141, -10, -141, -86, -55, -113, -25, -98, -11, -106, 0, -116, 12, -125, 10, -165, 82, -165, 83, -169, 75, -142, 15, -126, -54, -121, -51, -122, -41, -125, -37, -125, -63, 9, -132, 4, -130, -17, -135 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4 ), PoolIntArray( 5, 6, 7 ), PoolIntArray( 8, 9, 10, 11 ), PoolIntArray( 11, 12, 13, 14, 15 ), PoolIntArray( 0, 16, 1 ), PoolIntArray( 17, 18, 19, 20, 21, 11 ), PoolIntArray( 22, 23, 8, 24 ), PoolIntArray( 7, 24, 8, 11, 5 ), PoolIntArray( 25, 5, 11 ), PoolIntArray( 21, 25, 11 ), PoolIntArray( 26, 27, 28 ), PoolIntArray( 29, 17, 11 ), PoolIntArray( 28, 29, 11, 26 ), PoolIntArray( 30, 26, 11 ), PoolIntArray( 31, 32, 15, 14 ), PoolIntArray( 30, 11, 15, 33 ), PoolIntArray( 30, 33, 4, 3 ) ]
outlines = [ PoolVector2Array( -208, 217, -288, 208, -287, -170, 33, -179, 33, -142, 25, -141, 9, -132, 4, -130, -10, -141, -17, -135, -25, -123, -28, -115, -86, -55, -91, -59, -105, -49, -108, -63, -125, -63, -126, -54, -121, -51, -122, -41, -125, -37, -113, -25, -98, -11, -106, 0, -116, 12, -125, 10, -142, 15, -145, 25, -138, 28, -150, 50, -169, 75, -165, 82, -165, 83, -203, 89 ) ]

[sub_resource type="NavigationPolygon" id=4]
vertices = PoolVector2Array( -97, 32, -77, 59, -86, 60, -98, 40, -17, 44, -31, 55, -47, 18, -30, 30, -133, 45, -142, 55, -150, 50, -138, 28, -133, 32, -129, 36, -136, 62, -143, 60, -116, 20, -97, 26, 25, -111, 33, -118, 39, -110, 28, -102, 5, -97, 10, -109, -3, -108, -6, -87, -72, -36, -86, -55, -28, -115, -19, -107, -5, -81, 7, -70, 9, -63, 10, -52, -71, -26, -24, 25, -83, -11, 13, -46, 20, 19, 43, -12, 65, -22, 78, -6, 69, 17, 33, 31, 38, -17, -75, 13, -116, 12, -98, -11, 20, -43, 31, -30, 37, -27 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 6, 7 ), PoolIntArray( 8, 9, 10, 11, 12, 13 ), PoolIntArray( 8, 14, 15, 9 ), PoolIntArray( 0, 3, 13, 12, 16, 17 ), PoolIntArray( 18, 19, 20, 21 ), PoolIntArray( 18, 21, 22, 23 ), PoolIntArray( 24, 23, 22, 25 ), PoolIntArray( 26, 27, 28, 29, 25, 30 ), PoolIntArray( 29, 24, 25 ), PoolIntArray( 26, 30, 31, 32, 33, 34 ), PoolIntArray( 35, 6, 36, 34, 33, 37, 38 ), PoolIntArray( 39, 40, 41, 42, 43, 38 ), PoolIntArray( 44, 39, 38 ), PoolIntArray( 35, 7, 6 ), PoolIntArray( 45, 17, 16, 46, 47, 36 ), PoolIntArray( 6, 45, 36 ), PoolIntArray( 44, 38, 37, 48, 49 ), PoolIntArray( 44, 49, 50 ) ]
outlines = [ PoolVector2Array( 39, -110, 33, -118, 25, -111, 10, -109, -3, -108, -19, -107, -28, -115, -86, -55, -72, -36, -71, -26, -83, -11, -98, -11, -116, 12, -116, 20, -133, 32, -138, 28, -150, 50, -142, 55, -143, 60, -136, 62, -133, 45, -129, 36, -98, 40, -86, 60, -77, 59, -97, 32, -97, 26, -75, 13, -47, 18, -31, 55, -17, 44, -30, 30, -24, 25, 20, 19, 33, 31, 69, 17, 78, -6, 65, -22, 43, -12, 38, -17, 37, -27, 31, -30, 20, -43, 13, -46, 10, -52, 9, -63, 7, -70, -5, -81, -6, -87, 5, -97, 28, -102 ) ]

[sub_resource type="NavigationPolygon" id=5]
vertices = PoolVector2Array( 39, -25, 38, -17, 37, -27, 7, -70, -5, -81, 4, -79, 23, -61, 10, -52, 9, -62, 21, -64, 22, -79, 18, -71, 58, -30, 65, -22, 52, -16, 48, -25, 32, -71, 34, -64, 27, -55, 45, -47, 41, -30, 44, -28, 23, -50, 20, -43, 13, -46, 30, -50, 41, -44, 53, -47 )
polygons = [ PoolIntArray( 0, 1, 2 ), PoolIntArray( 3, 4, 5 ), PoolIntArray( 6, 7, 8, 9 ), PoolIntArray( 3, 5, 10, 11 ), PoolIntArray( 12, 13, 14, 15 ), PoolIntArray( 9, 11, 10, 16, 17, 6 ), PoolIntArray( 18, 6, 17, 19 ), PoolIntArray( 0, 2, 20, 21 ), PoolIntArray( 22, 23, 24 ), PoolIntArray( 22, 24, 18 ), PoolIntArray( 25, 22, 18 ), PoolIntArray( 25, 18, 19, 26 ), PoolIntArray( 19, 27, 12, 15, 21, 26 ), PoolIntArray( 26, 21, 20 ) ]
outlines = [ PoolVector2Array( 65, -22, 52, -16, 48, -25, 44, -28, 39, -25, 38, -17, 37, -27, 41, -30, 41, -44, 30, -50, 23, -50, 20, -43, 13, -46, 27, -55, 23, -61, 10, -52, 9, -62, 21, -64, 18, -71, 7, -70, -5, -81, 4, -79, 22, -79, 32, -71, 34, -64, 45, -47, 53, -47, 58, -30 ) ]

[node name="World" type="Node2D"]
script = ExtResource( 2 )

[node name="Camera" type="Camera2D" parent="."]
current = true

[node name="Map" parent="." instance=ExtResource( 4 )]
position = Vector2( -12, 2 )
rotation = 0.000698423

[node name="Line2D" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -1.86061
points = PoolVector2Array( -94.8366, -45.9457, -46.8331, -38.97, -27.7664, -36.4284, -23.1802, -41.324, -16.2888, -43.4474, -9.08792, -36.0889, 1.61307, -47.5121, 7.52158, -60.3608, 13.145, -72.251, 18.2769, -89.5039, 17.5792, -101.188, 26.1812, -109.062, 29.7057, -117.403, 36.0025, -128.05, 39.7089, -140.511, 45.0472, -151.442, 47.3281, -159.11, 49.427, -162.659, 50.5674, -166.493 )

[node name="Line2D2" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( -60, -14, -59, -11, -57, 2, -57, 6 )

[node name="Line2D3" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( 12, 62, -26, 51 )

[node name="Line2D4" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( 41, 11, -35, 16 )

[node name="Line2D5" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( -98, -102, -77, -97, -66, -96, -58, -94, -53, -87, -49, -82, -48, -75, -49, -69, -50, -61, -54, -55, -58, -47, -59, -42 )

[node name="Line2D6" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( 39, -111, 31, -110, 26, -107, 20, -105, 16, -104, 12, -104, 6, -102, 1, -101, -8, -97, -10, -94, -18, -89, -22, -88, -29, -88, -34, -88, -43, -87, -49, -85 )

[node name="Line2D7" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( 68, -7, 74, -21, 75, -27, 82, -28, 88, -30, 93, -33, 93, -39, 93, -44, 89, -54, 87, -62, 83, -73, 80, -80, 75, -90, 69, -97, 62, -100 )

[node name="Line2D8" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( 143, 30, 127, 25, 114, 16, 103, 10, 100, -3, 96, -13, 90, -21, 90, -25, 87, -28 )

[node name="Line2D9" type="Line2D" parent="Map"]
position = Vector2( 11.9986, -2.00838 )
rotation = -0.000698423
points = PoolVector2Array( 50, 61, 65, 61, 74, 55, 82, 52, 88, 48, 92, 43, 96, 39, 99, 32, 102, 27, 104, 22, 107, 17 )

[node name="Town" parent="Map" instance=ExtResource( 6 )]
position = Vector2( -5, 115 )

[node name="Town3" parent="Map" instance=ExtResource( 6 )]
position = Vector2( -177, -8 )

[node name="Town4" parent="Map" instance=ExtResource( 6 )]
position = Vector2( 72, 1 )

[node name="Town5" parent="Map" instance=ExtResource( 6 )]
position = Vector2( 171, 24 )

[node name="Town6" parent="Map" instance=ExtResource( 6 )]
position = Vector2( 69, -123 )

[node name="Town7" parent="Map" instance=ExtResource( 6 )]
position = Vector2( -105, -117 )

[node name="enemy" type="Node" parent="."]

[node name="Clouds" type="Node" parent="."]

[node name="spawners" type="Node" parent="."]

[node name="sudnode" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( 92, 176 )
enemy_id = "turk"

[node name="sudnode2" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( -168, 142 )
enemy_id = "turk"

[node name="westnode1" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( -259, 56 )
enemy_id = "mag"

[node name="westnode" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( -264, 0 )
enemy_id = "mag"

[node name="westnode2" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( -208, -73 )
enemy_id = "mag"

[node name="nordspawn" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( 54, -173 )
enemy_id = "rus"

[node name="nordspawn2" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( -35, -170 )
enemy_id = "rus"

[node name="nordspawn3" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( -127, -163 )
enemy_id = "rus"

[node name="estspawn" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( 187, -170 )
enemy_id = "hun"

[node name="estspawn2" parent="spawners" instance=ExtResource( 5 )]
position = Vector2( 218, -107 )
enemy_id = "hun"

[node name="Navmesh" type="Node" parent="."]

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navmesh"]
navpoly = SubResource( 1 )

[node name="NavigationPolygonInstance2" type="NavigationPolygonInstance" parent="Navmesh"]
navpoly = SubResource( 2 )

[node name="NavigationPolygonInstance3" type="NavigationPolygonInstance" parent="Navmesh"]
navpoly = SubResource( 3 )

[node name="NavigationPolygonInstance4" type="NavigationPolygonInstance" parent="Navmesh"]
navpoly = SubResource( 4 )

[node name="NavigationPolygonInstance5" type="NavigationPolygonInstance" parent="Navmesh"]
navpoly = SubResource( 5 )

[node name="Mountains" type="Node" parent="."]

[node name="mountain_spawner_1" parent="Mountains" instance=ExtResource( 3 )]
position = Vector2( -101, -44 )

[node name="mountain_spawner_2" parent="Mountains" instance=ExtResource( 3 )]
position = Vector2( -114, 49 )

[node name="mountain_spawner_3" parent="Mountains" instance=ExtResource( 3 )]
position = Vector2( -63, 31 )

[node name="mountain_spawner_4" parent="Mountains" instance=ExtResource( 3 )]
position = Vector2( 33, -91 )

[node name="mountain_spawmer_5" parent="Mountains" instance=ExtResource( 3 )]
position = Vector2( 17, 38 )

[connection signal="abandoned" from="." to="." method="_townAbandoned"]
[connection signal="angry" from="." to="." method="_townAngry"]
[connection signal="death" from="." to="." method="_townDied"]
[connection signal="notAngry" from="." to="." method="_townNotAngry"]
